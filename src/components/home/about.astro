---
import "../../../public/style/about.css";

import { ui } from '../../src/i18n/ui';

const { lang = 'en' } = Astro.props;
const t = ui[lang];

---

<!-- SECTION START -->
<section class="mvv-section" id="about-section">
    <div class="container">
        <div class="row align-items-top">
            <!-- LEFT COLUMN: Navigation & Text -->
            <div class="col-lg-6 pe-lg-5">
                <!-- The Tabs -->
                <div class="custom-nav">
                    <div
                        class="nav-item-custom active"
                        onclick="switchTab('mission')"
                    >
                        {t['about.tab.seatrust']}
                    </div>
                    <div class="nav-item-custom" onclick="switchTab('vision')">
                        {t['about.tab.mission']}
                    </div>
                    <div class="nav-item-custom" onclick="switchTab('values')">
                        {t['about.tab.values']}
                    </div>
                </div>

                <!-- Content: SEATRUST (ID Mission pour garder votre JS) -->
                <div id="text-mission" class="tab-text-content active">
                    <p class="sub-text">
                        {t['about.content.seatrust']}
                    </p>
                </div>

                <!-- Content: MISSION (ID Vision pour garder votre JS) -->
                <div id="text-vision" class="tab-text-content">
                    <p class="sub-text">
                        {t['about.content.mission']}
                    </p>
                </div>

                <!-- Content: VALUES -->
                <div id="text-values" class="tab-text-content">
                    <p class="sub-text">
                        {t['about.content.values']}
                    </p>
                </div>
            </div>

            <!-- RIGHT COLUMN: Images -->
            <div class="col-lg-6">
                <div class="image-display-area">
                    <img
                        src="/images/about/seatrust-1.png"
                        alt="Mission Team Meeting"
                        class="mvv-image active"
                        id="img-mission"
                    />
                    <img
                        src="/images/about/4.png"
                        alt="Vision Future"
                        class="mvv-image"
                        id="img-vision"
                    />
                    <img
                        src="/images/about/5.png"
                        alt="Values Handshake"
                        class="mvv-image"
                        id="img-values"
                    />
                </div>
            </div>
        </div>
    </div>
</section>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        window.switchTab = function (tabName) {
            const navItems = document.querySelectorAll(".nav-item-custom");
            navItems.forEach((item) => item.classList.remove("active"));

            event.target.classList.add("active");

            const textContents = document.querySelectorAll(".tab-text-content");
            textContents.forEach((content) =>
                content.classList.remove("active"),
            );

            document.getElementById("text-" + tabName)?.classList.add("active");

            const images = document.querySelectorAll(".mvv-image");
            images.forEach((img) => img.classList.remove("active"));

            document.getElementById("img-" + tabName)?.classList.add("active");
        };
    });
</script>
