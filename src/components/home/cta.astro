---
import "../../../public/style/cta.css";
import { ui } from "../../src/i18n/ui";

const { lang = "en" } = Astro.props;
const t = ui[lang];
---

<section class="unique-cta-wrapper">
    <div class="container">
        <div class="row align-items-center position-relative">
            
            <!-- Decorative Back Layer -->
            <div class="deco-box rounded-2"></div>

            <div class="col-lg-10 col-md-11 mx-auto">
                
                <div class="main-card rounded-4">
                    <div class="row align-items-center">
                        <div class="col-12">
                            <h2 class="cta-heading display-6">
                                {t["cta"][0].heading}
                            </h2>
                        </div>
                    </div>
                    <!-- Watermark -->
                    <div class="row align-items-center">
                        <!-- Text Side -->
                        <div class="col-md-7 mb-4 mb-md-0">
                            <!-- 10 words exactly -->
                            <p class="cta-subtext">
                                {t["cta"][0].paragraph}
                            </p>
                        </div>

                        <!-- Button Side -->
                        <div class="col-md-5 text-md-end">
                            <button id="redirectBtn" class="unique-btn">
                                <span>{t["cta"][0].button}</span>
                                <i class="fa-solid fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- JS Logic -->
<script>
    const btn = document.getElementById('redirectBtn');

    btn.addEventListener('click', function() {
        const icon = this.querySelector('i');
        
        // Animation: Turn the arrow into a spinner
        icon.classList.remove('fa-arrow-right');
        icon.classList.add('fa-spinner', 'fa-spin');
        
        // Redirect
        setTimeout(() => {
            window.location.href = '/contact';
        }, 800);
    });
</script>